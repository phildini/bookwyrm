{% spaceless %}
{% load i18n %}
{% load utilities %}
{% load status_display %}

{% load_book status as book %}
{% if book.authors.exists %}

{% with author=book.authors.first %}
{% blocktrans trimmed with book_path=book.local_path book=book|book_title author_name=author.name author_path=author.local_path %}
finished reading <a href="{{ book_path }}">{{ book }}</a> by <a href="{{ author_path }}">{{ author_name }}</a>
{% endblocktrans %}
{% endwith %}

{% else %}

{% blocktrans trimmed with book_path=book.local_path book=book|book_title %}
finished reading <a href="{{ book_path }}">{{ book }}</a>
{% endblocktrans %}

{% if book.series %}
({{book.series}}{%if book.series_number %}, #{{book.series_number}}{% endif %})
{% endif %}

{% endif %}
{% endspaceless %}
